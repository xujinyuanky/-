#include<cstdio>
#include<cstring>
#include<algorithm>
#include<iostream>
#define Inf 999999999
using namespace std;
 
int map[1000][1000];
 
int vis[1000],dis[1000];
int n,m;
 
void Init()
{
	memset(map,Inf,sizeof(map));
	for(int i=1;i<=n;i++)
	{
		map[i][i]=0;
	}
}
void Getmap()
{
	int u,v,w;
	char x,y;
    for(int t=1;t<=m;t++)
	{
	  	scanf("%c%c%d",&x,&y,&w);
	  	u=x-96;
	  	v=y-96;
	  	if(map[u][v]>w)
		  {
		  map[u][v]=w;
		  map[v][u]=w;
	      }
	}	
}
void Dijkstra(int D)
{
	memset(vis,0,sizeof(vis));
	for(int t=1;t<=n;t++)
	{
		dis[t]=map[D][t];
	}
	vis[D]=1;
	for(int t=1;t<n;t++)
	{
		int minn=Inf,temp;
		for(int i=1;i<=n;i++)
		{
			if(!vis[i]&&dis[i]<minn)
			{
				minn=dis[i];
				temp=i;
			}
		}
		vis[temp]=1;
		for(int i=1;i<=n;i++)
		{
			if(map[temp][i]+dis[temp]<dis[i])
			{
				dis[i]=map[temp][i]+dis[temp];
			}
		}
	}
	
}
 
int main()
{
	scanf("%d%d",&m,&n);
	Init();
	Getmap();
	Dijkstra(n);
	printf("%d\n",dis[1]);
	
	
	return 0;
}
